{"version":3,"sources":["webpack://index/webpack/universalModuleDefinition","webpack://index/webpack/bootstrap","webpack://index/./packages/dialog/index.less?6110","webpack://index/./packages/styles/reset.less?2cf3","webpack://index/./packages/messages/index.less?cb2d","webpack://index/./packages/badge/index.less?ea85","webpack://index/./packages/button/index.less?c2d9","webpack://index/./packages/editor/index.less?e441","webpack://index/./packages/contact/index.less?3b3d","webpack://index/./node_modules/@soda/get-current-script/index.js","webpack://index/external {\"commonjs\":\"vue\",\"commonjs2\":\"vue\",\"root\":\"Vue\"}","webpack://index/./packages/avatar/index.less?9539","webpack://index/./packages/styles/theme.less?5aba","webpack://index/./packages/free/index.less?7a3b","webpack://index/./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js","webpack://index/./packages/utils/props.ts","webpack://index/./packages/utils/validate.ts","webpack://index/./packages/utils/with-install.ts","webpack://index/./packages/utils/format.ts","webpack://index/./packages/utils/index.ts","webpack://index/./packages/utils/constant.tsx","webpack://index/./packages/hooks/useMenus.tsx","webpack://index/./packages/hooks/use-expose.ts","webpack://index/./packages/free/Free.tsx","webpack://index/./packages/free/index.ts","webpack://index/./packages/avatar/Avatar.tsx","webpack://index/./packages/avatar/index.ts","webpack://index/./packages/button/Button.tsx","webpack://index/./packages/button/index.ts","webpack://index/./packages/contact/Contact.tsx","webpack://index/./packages/contact/index.ts","webpack://index/./packages/badge/Badge.tsx","webpack://index/./packages/badge/index.ts","webpack://index/./packages/dialog/Dialog.tsx","webpack://index/./packages/dialog/index.ts","webpack://index/./packages/messages/Messages.tsx","webpack://index/./packages/messages/Image.tsx","webpack://index/./packages/messages/File.tsx","webpack://index/./packages/messages/Text.tsx","webpack://index/./packages/messages/Event.tsx","webpack://index/./packages/messages/Template.tsx","webpack://index/./packages/messages/index.ts","webpack://index/./packages/editor/Editor.tsx","webpack://index/./packages/editor/index.ts","webpack://index/./packages/styles/index.ts","webpack://index/./packages/index.ts","webpack://index/./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js"],"names":["numericProp","Number","String","makeNumericProp","defaultVal","type","default","makeNumberProp","makeStringProp","makeBooleanProp","Boolean","makeObjectProp","Object","required","makeArrayProp","Array","isArray","isString","val","isFunction","extend","assign","camelize","str","replace","_","c","toUpperCase","withInstall","options","install","app","name","component","formatDay","time","date","Date","year","getFullYear","month","getMonth","day","getDate","guid","r","Math","random","v","toString","formatByte","value","unitArr","index","floor","log","size","pow","parseFloat","toFixed","formatTime","nDate","t","getMD","getDay","dateYear","nDateYear","f","formatDate","arr","addZero","getHours","getMinutes","getSeconds","fs","i","length","charAt","defaultMenus","key","title","unread","click","bottom","render","defaultContacts","id","nickname","avatar","sort","lastMessage","lastMessageTime","defaultMenusIndex","messages","contacts","useMenus","customMenus","undefined","menus","ref","map","keys","includes","menu","useExpose","apis","instance","getCurrentInstance","proxy","freeProps","width","height","shape","showMenu","userInfo","messageName","menuAvatar","defineComponent","props","provide","freeIM","setup","slots","emit","wrapper_style","activeMenu","groups","curContact","currentContactId","messagesBucket","reactive","Map","messageLoadedBucket","loadingBucket","lockBucket","msgRef","currentContact","computed","find","contact","getCurrentMessages","get","lastMessages","data","filter","c1","c2","allUnread","forEach","renderMenuItem","top","node","changeMenuClick","push","changeMenu","renderMenu","renderSidebar","renderMessages","renderContacts","initContacts","_contacts","group","sortContacts","menuName","changeContact","contactId","has","pullMessages","scrollToBottom","set","updateUnread","activeClass","findContactById","isEnd","len","end","addMessage","delete","curCid","class","curIndex","contactNode","a","b","localeCompare","currentLoadend","currentLoading","lastMessageRender","message","content","handleSend","console","createMessage","appendMessage","_emitSend","updateContact","lastMessageStatus","status","next","file","updateMessage","toContactId","findIndex","item","findMessage","indexOf","parseInt","updateContactData","getTime","from","handleUpload","imageTypes","image","URL","createObjectURL","fileSize","fileName","renderContent","detailNode","FreeIM","_FreeIM","avatarProps","inject","substr","Avatar","buttonProps","cls","Button","contactProps","isMessage","base","emits","onClick","FreeContact","_Contact","badgeProps","FreeBadge","_Badge","DialogProps","header","footer","okText","cancelText","mask","maskClosable","show","updateShow","maskUpdateShow","ok","e","FreeDialog","_Dialog","messagesProps","loading","timeRange","root","onScroll","event","target","scrollTop","nextTick","scrollHeight","loadStatus","intervalTime","prev","tagName","attrs","reverse","eventProps","templateProps","_emit","$emit","handleError","handleClickContent","handleClickAvatar","FreeMessages","_Messages","FreeMessageImage","_MessageImage","FreeMessageFile","_MessageFile","FreeMessageText","_MessageText","FreeMessageEvent","_MessageEvent","FreeMessageTemplate","_MessageTemplate","command","document","execCommand","editorProps","textarea","onKeydown","code","ctrlKey","shiftKey","preventDefault","innerHTML","clear","fileRef","fileList","changeFile","files","resetInput","handleClickFile","emojiClick","cancel","FreeEditor","_Editor","components","FreeAvatar","FreeButton"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;AClFA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA;AACA;AACA;;AAEA;;AAEA;AACA,MAAM,IAA0C;AAChD,IAAI,iCAAO,EAAE,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AACvB,GAAG,MAAM,EAIN;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;;AAE1D;AACA;AACA,+DAA+D,qBAAqB;AACpF;AACA;;AAEA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;AC9ED,mD;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;AA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","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"index\"] = factory(require(\"vue\"));\n\telse\n\t\troot[\"index\"] = factory(root[\"Vue\"]);\n})((typeof self !== 'undefined' ? self : this), function(__WEBPACK_EXTERNAL_MODULE__8bbf__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = factory();\n  } else {\n    root.getCurrentScript = factory();\n  }\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8bbf__;","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (process.env.NEED_CURRENTSCRIPT_POLYFILL) {\n    var getCurrentScript = require('@soda/get-current-script')\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_public_path__ = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\nexport default null\n","import { PropType } from \"vue\"\n\nexport const numericProp = [Number, String]\n\nexport const makeNumericProp = <T>(defaultVal: T) => ({\n    type: numericProp,\n    default: defaultVal\n})\n\nexport const makeNumberProp = <T>(defaultVal: T) => ({\n    type: [Number],\n    default: defaultVal\n})\n\nexport const makeStringProp = <T>(defaultVal: T) => ({\n    type: [String],\n    default: defaultVal\n})\n\nexport const makeBooleanProp = <T>(defaultVal: T) => ({\n    type: [Boolean],\n    default: defaultVal\n})\n\nexport const makeObjectProp = <T = unknown>() => ({\n    type: Object as PropType<T>,\n    required: true as const\n})\n\nexport const makeArrayProp = <T = unknown>() => ({\n    type: Array as PropType<T[]>,\n    default: () => []\n})","export const isArray = Array.isArray\nexport const isString = (val: unknown) => typeof val === 'string'\nexport const isFunction = (val: unknown): val is Function => typeof val === 'function'\nexport const extend = Object.assign\nexport const camelize = (str: string): string =>\n  str.replace(/-(\\w)/g, (_, c) => c.toUpperCase())\n","import { App } from \"vue\";\nimport { camelize } from './validate'\n\n\n\ntype EventShim = {\n    new (...args: any[]): {\n        $props: {\n            onClick?: (...args: any[]) => void\n        }\n    }\n}\n\nexport type WithInstall<T> = T & {\n    install(app: App): void\n} & EventShim\n\nexport function withInstall<T>(options: T) {\n    (options as Record<string, unknown>).install = (app: App) => {\n        \n        const { name } = options as unknown as { name: string }\n        app.component(name, options)\n        app.component(camelize(`-${name}`), options)\n    }\n    \n    return options as WithInstall<T>\n}","export const formatDay = (time: number) => {\n    const date = new Date(time)\n    const year = date.getFullYear()\n    const month = date.getMonth()\n    const day = date.getDate()\n    return year + '/' + month + '/' + day\n}\n\nexport const guid = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0,\n            v = c == 'x' ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\n\nexport function formatByte(value: number) {\n    if (!value) {\n      return '0 Bytes'\n    }\n    const unitArr = ['B', 'K', 'M', 'G', 'T', 'P', 'E', 'Z', 'Y']\n    let index = 0;\n    index = Math.floor(Math.log(value) / Math.log(1024))\n    let size = value / Math.pow(1024, index)\n    size = parseFloat(size.toFixed(2))\n    return size + unitArr[index]\n}\n\nexport function formatTime(value: number) {\n    const date = new Date(value)\n    const nDate = new Date()\n\n    const getFullYear = (t: Date) => t.getFullYear()\n    const getMD = (t: Date) => `${t.getMonth() + 1}-${t.getDay()}`\n\n    const dateYear = getFullYear(date)\n    const nDateYear = getFullYear(nDate)\n\n    let f\n    if (dateYear !== nDateYear) {\n        f = 'YMD h:m'\n    } else if (`${dateYear}-${getMD(date)}` === `${nDateYear}-${getMD(nDate)}`) {\n        f = 'h:m'\n    } else {\n        f = 'MD h:m'\n    }\n    return formatDate(value, f)\n}\n\nexport function formatDate(t: number | Date, f: string) {\n    if (!f) f = 'Y-M-D h:m:s'\n    if (t) {\n        t = new Date(t)\n    } else {\n        t = new Date()\n    }\n\n    const arr = [\n        t.getFullYear().toString(),\n        addZero(t.getMonth() + 1),\n        addZero(t.getDate()),\n        addZero(t.getHours()),\n        addZero(t.getMinutes()),\n        addZero(t.getSeconds())\n    ]\n    const fs = 'YMDhms'\n\n    for (let i = 0; i < arr.length; i++) {\n        f =  f.replace(fs.charAt(i), arr[i])\n    }\n    return f\n}\n\nexport function addZero(v: number) {\n    return v < 10 ? `0${v}` : v.toString()\n}\n","\nexport * from './props'\nexport * from './validate'\nexport * from './with-install'\nexport * from './format'","export const defaultMenus = [\n    {\n        key: 'messages',\n        title: '',\n        unread: 0,\n        click: null,\n        bottom: false,\n        render: () => <i class=\"free-icon-messages\"/>\n    },\n    {\n        key: 'contacts',\n        title: '',\n        unread: 0,\n        click: null,\n        bottom: false,\n        render: () => <i class=\"free-icon-contacts\"/>,\n    },\n    {\n        key: 'settings',\n        title: '',\n        unread: 0,\n        click: null,\n        bottom: true,\n        render: () => <i class=\"free-icon-menu\"/>,\n    }\n]\n\nexport const defaultContacts = [\n    {\n        id: 1,\n        nickname: '',\n        avatar: '',\n        sort: 'Z',\n        lastMessage: '',\n        lastMessageTime: 1655114917359,\n        unread: 0\n    },\n    {\n        id: 2,\n        nickname: '',\n        avatar: '',\n        sort: 'M',\n        lastMessage: '',\n        lastMessageTime: 1655114917370,\n        unread: 0\n    },\n    {\n        id: 3,\n        nickname: '',\n        avatar: '',\n        sort: 'L',\n        lastMessage: '',\n        lastMessageTime: 1655114917370,\n        unread: 0\n    },\n    {\n        id: 3,\n        nickname: '',\n        avatar: '',\n        sort: 'M',\n        lastMessage: '',\n        lastMessageTime: 1655114917370,\n        unread: 2\n    },\n]","import { ref } from 'vue'\nimport { MenuType } from '../utils/types'\nimport { defaultMenus } from '../utils/constant'\n\nconst defaultMenusIndex: {\n    [key: string]: number\n} = {\n    messages: 0,\n    contacts: 1\n}\n\n\n\nfunction useMenus(customMenus: MenuType | undefined = undefined) {\n    let menus = ref<MenuType[]>([])\n    if (Array.isArray(customMenus)) {\n        menus.value = customMenus.map(menu => {\n            if (Object.keys(defaultMenusIndex).includes(menu.key)) {\n                return defaultMenus[defaultMenusIndex[menu.key]]\n            }\n            return menu\n        })\n    } else {\n        menus.value = defaultMenus\n    }\n\n    return menus\n}\n\nexport {\n    useMenus,\n    defaultMenus,\n}","import { extend } from \"../utils\"\nimport { getCurrentInstance } from \"vue\"\n\nexport function useExpose<T = Record<string, any>>(apis: T) {\n    const instance = getCurrentInstance()\n    if (instance) {\n        extend(instance.proxy, apis)\n    }\n}","import { defineComponent, ExtractPropTypes, reactive, ref, nextTick, computed } from \"vue\";\nimport { useMenus } from '../hooks'\nimport { isFunction, makeObjectProp, guid, isArray, makeBooleanProp, makeStringProp, isString } from '../utils'\nimport { MenuType } from \"../utils/types\";\nimport { useExpose } from \"../hooks/use-expose\";\nimport { Contact } from '../contact/types'\nimport {\n    Message,\n    User,\n    MessageInstance,\n    MessageStatus,\n    MessageType\n} from '../index'\n\nimport {\n    makeNumericProp\n} from '../utils'\nimport { UpdateMessage } from \"./types\";\n\nconst freeProps = {\n    width: makeNumericProp(860),\n    height: makeNumericProp(580),\n    shape: makeStringProp<'circle' | 'square'>('square'),\n    showMenu: makeBooleanProp(true),\n    userInfo: makeObjectProp<User>(),\n    messageName: makeBooleanProp(false),\n    menuAvatar: makeBooleanProp(true)\n}\n\nexport type FProps = ExtractPropTypes<typeof freeProps>\n\nexport default defineComponent({\n    name: 'free-im',\n    props: freeProps,\n    provide() {\n        return {\n            userInfo: this.userInfo,\n            freeIM: this\n        }\n    },\n    setup(props, { slots, emit }) {\n        const { width, height } = props\n        const wrapper_style = {\n            width: width + 'px',\n            height: height + 'px'\n        }\n        const activeMenu = ref('messages')\n        const contacts = ref<Contact[]>([])\n        const groups = ref<Contact[]>([])\n        const curContact = ref<Contact>()\n        const currentContactId = ref<string | number>()\n        const messagesBucket = reactive(new Map<string | number, Message[]>())\n        const messageLoadedBucket = reactive(new Map())\n        const loadingBucket = reactive(new Map())\n        const lockBucket = reactive(new Map())\n        const menus = useMenus()\n        const msgRef = ref<MessageInstance | null>(null)\n\n        const currentContact = computed(() => {\n            return contacts.value.find(contact => contact.id === currentContactId.value)\n        })\n\n        const getCurrentMessages = computed(() => {\n            if (!currentContactId.value) return []\n            return messagesBucket.get(currentContactId.value) || []\n        })\n\n        const lastMessages = computed(() => {\n            const data = contacts.value.filter(contact => contact.lastMessage)\n            data.sort((c1, c2) => {\n                return (c2.lastMessageTime ? c2.lastMessageTime : 0) - (c1.lastMessageTime ? c1.lastMessageTime : 0)\n            })\n            return data\n        })\n\n        const allUnread = computed(() => {\n            let unread =  0\n            lastMessages.value.forEach(contact => {\n                unread += contact.unread\n            })\n            return unread\n        })\n\n        function renderMenuItem() {\n            const top: HTMLElement | JSX.Element[] = []\n            const bottom: HTMLElement | JSX.Element[] = []\n            menus.value.forEach(menu => {\n                const node = <div class={`free-menu-item ${activeMenu.value === menu.key ? 'free-menu-active' : ''}`} title={menu.title} onClick={() => {\n                    isFunction(menu.click) ? menu.click : changeMenuClick(menu)\n                }}>\n                    {\n                        menu.key === 'messages' ?\n                        <free-badge unread={ allUnread.value }>\n                           { menu.render() }\n                        </free-badge> : menu.render() \n                    }\n                    \n                </div>\n                !menu.bottom ? top.push(node) : bottom.push(node)\n            })\n\n            function changeMenuClick(menu: MenuType) {\n                if (menu.bottom) return\n                changeMenu(menu.key)\n            }\n\n            return {\n                top,\n                bottom\n            }\n        }\n\n        function renderMenu() {\n            return (\n                <div class=\"free-menu\">\n                    <div class=\"free-menu-top\">\n                        <free-avatar v-show={ props.menuAvatar } class=\"free-menu-avatar\" avatar={ props.userInfo.avatar } />\n                        {renderMenuItem().top}\n                    </div>\n                    <div class=\"free-menu-bottom\">\n                        {renderMenuItem().bottom}\n                    </div>\n                </div>\n            )\n        }\n\n        function renderSidebar() {\n            return (\n                <>\n                    <div class=\"free-sidebar free-sidebar-messages\" v-show={activeMenu.value === 'messages'}>\n                        <div class=\"free-messages-fiexd_top\">\n                            {slots['messages-fixed-top'] ? slots['messages-fixed-top']() : ''}\n                        </div>\n                        {renderMessages()}\n                    </div>\n                    <div class=\"free-sidebar free-sidebar-messages\" v-show={activeMenu.value === 'contacts'}>\n                        {renderContacts()}\n                    </div>\n                </>\n            )\n        }\n\n        function initContacts(_contacts: Contact[]) {\n            _contacts.forEach(contact => {\n                if (contact.group) {\n                    groups.value.push(contact)\n                } else {\n                    contacts.value.push(contact)\n                }\n            })\n            \n            sortContacts()\n        }\n\n        function changeMenu(menuName: string) {\n            emit('change-menu', menuName)\n            activeMenu.value = menuName\n        }\n\n        function changeContact(contactId: string | number, menuName?: string) {\n            if (menuName) {\n                changeMenu(menuName)\n            } else {\n                if (contactId === currentContactId.value) return\n            }\n\n            currentContactId.value = contactId\n            emit('change-contact', currentContact.value)\n\n            if(!messagesBucket.has(contactId)) {\n                pullMessages(() => {\n                    if (msgRef.value){\n                        \n                        msgRef.value.scrollToBottom()\n                    }\n                })\n            } else {\n                loadingBucket.set(contactId, false)\n            }\n        }\n\n        function scrollToBottom() {\n            msgRef.value && msgRef.value.scrollToBottom()\n        }\n\n        function renderMessages() {\n            const click = (contact: Contact) => {\n                updateUnread(contact)\n                currentContactId.value = contact.id\n                if(!messagesBucket.has(contact.id)) {\n                    pullMessages(() => {\n                        if (msgRef.value){\n                            \n                            msgRef.value.scrollToBottom()\n                        }\n                    })\n                } else {\n                    loadingBucket.set(contact.id, false)\n                    msgRef.value?.scrollToBottom()\n                }\n            }\n\n            return lastMessages.value.map(contact => {\n                return (\n                    <free-contact {...activeClass(contact.id, currentContactId.value)} onClick={() => {click(contact)}} contact={contact} is-message />\n                )\n            })\n        }\n\n        function updateUnread(contact: Contact) {\n            const index = findContactById(contact.id)\n            contacts.value[index].unread = 0\n        }\n\n\n        function pullMessages(isEnd?: (end: boolean) => void) {\n            \n            const contact = currentContact.value!\n            if (!messagesBucket.has(contact.id))\n                messagesBucket.set(contact.id, [])\n\n            if (lockBucket.has(contact.id)) return\n\n            const len = messagesBucket.has(contact.id) ? messagesBucket.get(contact.id)?.length : 0\n            \n            loadingBucket.set(contact.id, true)\n            \n            lockBucket.set(contact.id, true)\n\n            emit('pull-messages', contact, async (messages: Message[], end?: boolean) => {\n                \n                if(messages.length === 0) {\n                    \n                }\n                addMessage(messages, contact.id, 'unshift')\n                // messagesBucket.get(contact.id)?.unshift(...messages)\n                messageLoadedBucket.set(contact.id, end)\n                \n                loadingBucket.set(contact.id, false)\n                lockBucket.delete(contact.id)\n                isEnd && isEnd(!!end)\n            }, len)\n        }\n\n        const activeClass = (id: number | string | null, curCid?: number | string | null) => {\n            return {\n                class: curCid === id ? 'free-contact-active' : ''\n            }\n        }\n\n        function renderContacts() {\n            const click = (data: Contact) => {\n                curContact.value = data\n            }\n\n            let curIndex: string | null = ''\n            const contactNode = contacts.value.map(contact => {\n                const node = [\n                    contact.sort !== curIndex ? <div class=\"free-index\">{contact.sort}</div> : '',\n                    <free-contact {...activeClass(contact.id, curContact.value?.id)} onClick={click} contact={contact} base />\n                ]\n                curIndex = contact.sort\n                return node\n            })\n            return [\n                <div class=\"free-contact-category-label\"></div>,\n                groups.value.map(group => {\n                    return <free-contact {...activeClass(group.id)} onClick={click} contact={group} base />\n                }),\n                <div class=\"free-contact-category-label\"></div>,\n                contactNode\n            ]\n        }\n\n        function sortContacts() {\n            contacts.value.sort((a, b) => {\n                if (a.group) {\n                    return a.sort.localeCompare(b.sort)\n                }\n                return a.sort.localeCompare(b.sort);\n            })\n        }\n\n        const currentLoadend = computed(() => {\n            return messageLoadedBucket.has(currentContactId.value) ? \n            messageLoadedBucket.get(currentContactId.value) : false\n        })\n\n        const currentLoading = computed(() => {\n            if (loadingBucket.has(currentContactId.value)) {\n                return loadingBucket.get(currentContactId.value)\n            }\n            return true\n        })\n\n        const lastMessageRender = (message: Message) => {\n            if (message.type === 'file') {\n                return '[]'\n            } else if (message.type === 'image') {\n                return '[]'\n            }\n            return message.content\n        }\n\n        const handleSend = (content: string) => {\n            console.log(content)\n            const message = createMessage({ content })\n            appendMessage(message)\n            if (!currentContact.value) return\n            _emitSend(currentContact.value, message, (contact) => {\n                updateContact({\n                    id: contact.id,\n                    lastMessageTime: message.time,\n                    lastMessage: lastMessageRender(message),\n                    lastMessageStatus: message.status,\n                    unread: 0\n                })\n            })\n        }\n\n        function _emitSend(\n            contact: Contact,\n            message: Message,\n            next: (contact: Contact) => void,\n            file?: File\n        ){\n            emit('send', contact, message, (message: Message, contact: Contact, status: MessageStatus = 'success') => {\n                next(contact)\n                updateMessage(Object.assign(message, { status }))\n            }, file)\n        }\n        \n        function updateMessage(message: UpdateMessage) {\n            if (messagesBucket.has(message.toContactId)) {\n                const index = messagesBucket.get(message.toContactId)?.findIndex(item => item.id === message.id)\n                if (index !== -1) {\n                    const findMessage = messagesBucket.get(message.toContactId)![index!]\n                    messagesBucket.get(message.toContactId)![index!] = { ...findMessage, ...message, toContactId: findMessage.toContactId }\n                }\n                \n            }\n        }\n\n        function updateContact(data: any) {\n            const id = data.id\n            delete data.id\n            const index = findContactById(id)\n            if (index !== -1) {\n                const { unread } = data\n                if (isString(unread)) {\n                    if (unread.indexOf('+') === 0 || unread.indexOf('-') === 0) {\n                        data.unread = parseInt(unread) + contacts.value[index].unread\n                    }\n                }\n                // if (data.unread) {\n                //     data.unread = data.unread + contacts.value[index].unread\n                // }\n                contacts.value[index] = { ...contacts.value[index], ...data }\n            }\n        }\n\n        function findContactById(id: string | number) {\n            if (!id) return -1\n            return contacts.value.findIndex(item => item.id === id)\n        }\n        /* \n\n        */\n        function appendMessage(message: Message, scrollToBottom = false) {\n            console.log(message)\n            if (!messagesBucket.has(message.toContactId)) {\n                updateContact({\n                    id: message.toContactId,\n                    unread: '+1',\n                    lastMessageTime: message.time,\n                    lastMessage: lastMessageRender(message)\n                })\n                \n            } else {\n                addMessage(message, message.toContactId, 'push')\n                const updateContactData = {\n                    id: message.toContactId,\n                    lastMessageTime: message.time,\n                    lastMessage: lastMessageRender(message),\n                    lastMessageStatus: message.status,\n                    unread: ''\n                }\n                if (message.toContactId === currentContactId.value) {\n                    msgRef.value?.scrollToBottom()\n                } else {\n                    updateContactData.unread = '+1'\n                }\n                updateContact(updateContactData)\n            }\n\n            // if (scrollToBottom) {\n            //     msgRef.value?.scrollToBottom()\n            // }\n        }\n\n        function addMessage(message: Message | Message[], contactId: string | number, type: 'unshift' | 'push') {\n            if (!isArray(message)) message = [ message ]\n            messagesBucket.set(contactId, messagesBucket.get(contactId) || [])\n            messagesBucket.get(contactId)![type](...message)\n        }\n\n        function createMessage(message: any): Message {\n            return {\n                ...{\n                    id: guid(),\n                    time: new Date().getTime(),\n                    type: 'text',\n                    status: 'uploading',\n                    toContactId: currentContactId.value!,\n                    from: props.userInfo\n                },\n                ...message\n            }\n        }\n\n        const handleUpload = (file: File) => {\n            const imageTypes = ['image/png', 'image/jpeg', 'image/gif']\n            let image\n            if (imageTypes.includes(file.type)) {\n                image = {\n                    content: URL.createObjectURL(file),\n                    type: 'image'\n                }\n            } else {\n                image = {\n                    type: 'file',\n                    fileSize: file.size,\n                    fileName: file.name,\n                    content: ''\n                }\n            }\n            const message = createMessage(image)\n            appendMessage(message)\n            if (!currentContact.value) return\n            _emitSend(currentContact.value, message, (contact) => {\n\n            }, file)\n        }\n\n        function renderContent() {\n            const click = () => {\n                if (!curContact.value?.lastMessage) {\n                    updateContact({\n                        id: curContact.value?.id,\n                        lastMessage: ' '\n                    })\n                }\n                changeContact(curContact.value?.id!, 'messages')\n            }\n\n            const detailNode = () => {\n                if (activeMenu.value === 'contacts' && curContact.value) {\n                    if (slots['contact-detail']) {\n                        return slots['contact-detail']({ contact: curContact.value })\n                    }\n                    return (\n                        <div class=\"free-contact-main\">\n                            <div class=\"free-contact-detail_header\">\n                                <free-avatar avatar={curContact.value?.avatar} />\n                                <div class=\"free-contact-nickname\">{curContact.value?.nickname}</div>\n                            </div>\n                            <div class=\"free-contact-detail_body\">\n\n                            </div>\n                            <div class=\"free-contact-detail_footer\">\n                                <free-button type=\"primary\" onClick={ click }></free-button>\n                            </div>\n                        </div>\n                    )\n                } else if (activeMenu.value === 'messages' && currentContact.value) {\n                    return (\n                        <div class=\"free-contact-main\">\n                            <div class=\"free-contact-messages_header\">\n                                <span>{ currentContact.value.nickname }</span>\n                                <i class=\"free-icon-more\"></i>\n                            </div>\n                            <div class=\"free-contact-messages_body\">\n                                <free-messages ref={ msgRef } onLoad={ pullMessages } messageName={ props.messageName } data={ messagesBucket.get(currentContact.value.id) } is-end={ currentLoadend.value } loading={ currentLoading.value } />\n                                <free-editor contact={ currentContact.value } onSend={ handleSend } onUpload={ handleUpload }/>\n                            </div>\n                        </div>\n                    )\n                }\n                return undefined\n            }\n\n            return (\n                <div class=\"free-content\">\n                    {detailNode()}\n                </div>\n            )\n        }\n\n\n        useExpose({\n            useMenus,\n            initContacts,\n            appendMessage,\n            updateMessage,\n            updateContact,\n            getCurrentMessages,\n            scrollToBottom\n        })\n\n        return () => {\n            return (\n                <div class={`free-wrapper free-theme-default`} style={wrapper_style}>\n                    \n                    {\n                        props.showMenu && renderMenu()\n                    }\n                    {renderSidebar()}\n                    {renderContent()}\n                </div>\n            )\n        }\n    },\n})\n","import { withInstall } from '../utils'\nimport _FreeIM from './Free'\nimport './index.less'\n\n// FreeIM.install = (app: App) => {\n//     app.component(FreeIM.name, FreeIM)\n// }\nexport const FreeIM = withInstall(_FreeIM)\n\nexport default FreeIM\n\nexport type { FreeInstance, User } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        FreeIM: typeof FreeIM\n    }\n}\n","import { computed, defineComponent, inject } from \"vue\";\nimport { FreeInstance } from \"..\";\nimport { makeNumberProp, makeStringProp } from '../utils'\n\nconst avatarProps = {\n    avatar: makeStringProp(''),\n    size: makeNumberProp(40),\n}\n\nexport default defineComponent({\n    props: avatarProps,\n    name: 'free-avatar',\n    inject: ['freeIM'],\n    setup(props) {\n        const freeIM: FreeInstance | undefined = inject('freeIM')\n        const shape = computed(() => freeIM ? freeIM.shape : 'square')\n        return () => {\n            return (\n                <div class={`free-avatar free-avatar-${shape.value}`} style={`width: ${props.size}px;height: ${props.size}px;line-height: ${props.size}px;`}>\n                    { props.avatar ? props.avatar.substr(-2) : props.avatar }\n                </div>\n            )\n        }\n    }\n})\n","import { App } from 'vue'\nimport Avatar from './Avatar'\nimport './index.less'\n\nAvatar.install = (app: App) => {\n    app.component(Avatar.name, Avatar)\n}\n\nexport {\n    Avatar\n}\nexport default Avatar\n","import { defineComponent } from \"vue\";\nimport { makeStringProp } from '../utils'\n\nconst buttonProps = {\n    type: makeStringProp('default'),\n    size: makeStringProp('default')\n}\n\nexport default defineComponent({\n    name: 'free-button',\n    props: buttonProps,\n    setup(props, { slots }) {\n        const cls = props.type\n        return () => {\n            return (\n                <button class={`free-button free-button-${cls} free-button-size__${props.size}`}>\n                    { slots.default ? slots.default() : '' }\n                </button>\n            )\n        }\n    }\n})","import { App } from 'vue'\nimport Button from './Button'\nimport './index.less'\n\nButton.install = (app: App) => {\n    app.component(Button.name, Button)\n}\n\nexport {\n    Button\n}\nexport default Button\n","import { defineComponent } from \"vue\";\nimport { Contact } from \"./types\";\nimport { makeObjectProp, makeBooleanProp, formatDay } from '../utils'\nconst contactProps = {\n    contact: makeObjectProp<Contact>(),\n    isMessage: makeBooleanProp(false),\n    base: makeBooleanProp(false),\n\n}\n\nexport default defineComponent({\n    name: 'free-contact',\n    props: contactProps,\n    emits: ['click'],\n    setup(props, { emit }) {\n        \n        const onClick = () => {\n            emit('click', props.contact)\n        }\n        return () => {\n            return (\n                <div class=\"free-contact\" onClick={ onClick }>\n                    {props.base}\n                    <free-badge unread={ props.base ? undefined : props.contact.unread }>\n                        <free-avatar avatar={ props.contact.avatar } />\n                    </free-badge>\n                    {\n                    props.isMessage ?\n\n                    <div class=\"contact-content\">\n                        <div class=\"contact-info\">\n                            <div class=\"contact-nickname\">{ props.contact.nickname }</div>\n                            <div class=\"contact-lastmsg-time\" v-show={ props.isMessage }>{ props.contact.lastMessageTime && formatDay(props.contact.lastMessageTime) }</div>\n                        </div>\n                        <div class=\"contact-action\" v-show={ props.isMessage }>\n                            <div class=\"contact-content-inner\">\n                                <i class=\"free-icon-error\" v-show={ props.contact.lastMessageStatus === 'error' }></i>\n                                <div class=\"contact-lastmsg\">{ props.contact.lastMessage }</div>\n                            </div>\n                            <div class=\"contact-ban\"></div>\n                        </div>\n                    </div>\n                    :\n                    <div class=\"contact--nickname\">{ props.contact.nickname }</div>}\n                </div>\n            )\n        }\n    }\n})\n","import { withInstall } from '../utils'\nimport _Contact from './Contact'\nimport './index.less'\n\nexport const FreeContact = withInstall(_Contact)\n\nexport default FreeContact\nexport type { Contact } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        _Contact: typeof FreeContact\n    }\n}\n","import { defineComponent } from \"vue\";\nimport { makeNumericProp } from \"../utils\";\n\nconst badgeProps = {\n    unread: makeNumericProp(0)\n}\n\nexport default defineComponent({\n    name: 'free-badge',\n    props: badgeProps,\n    setup(props, { slots }) {\n        return () => {\n            return (\n                <div class=\"free-badge\">\n                    { slots.default && slots.default() }\n                    <div class=\"free-badge-dot\" v-show={ !!props.unread }>\n                        { props.unread > 99 ? '99+' : props.unread }\n                    </div>\n                </div>\n            )\n        }\n    }\n})\n","import { withInstall } from '../utils'\nimport _Badge from './Badge'\nimport './index.less'\n\nexport const FreeBadge = withInstall(_Badge)\n\nexport default FreeBadge\n\nexport type { Test } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        _Badge: typeof FreeBadge\n    }\n}","import { defineComponent, inject } from 'vue';\nimport { FreeInstance } from '../index'\nimport { makeBooleanProp, makeNumberProp, makeStringProp } from '../utils';\n\nconst DialogProps = {\n    width: makeNumberProp(300),\n    title: makeStringProp('Basic Modal'),\n    header: makeBooleanProp(true),\n    footer: makeBooleanProp(true),\n    okText: makeStringProp(''),\n    cancelText: makeStringProp(''),\n    mask: makeBooleanProp(true),\n    maskClosable: makeBooleanProp(true),\n    show: makeBooleanProp(false),\n}\n\nexport default defineComponent({\n    name: 'free-dialog',\n    props: DialogProps,\n    emits: ['update:show', 'ok', 'cancel'],\n    setup(props, { emit, slots }) {\n        const { width, height } = inject<any>('freeIM')\n        \n        const updateShow = () => {\n            emit('update:show', false)\n            emit('cancel')\n        }\n        \n        const maskUpdateShow = () => {\n            if (!props.maskClosable) return\n            emit('update:show', false)\n        }\n\n        const ok = (e: Event) => {\n            emit('ok', e)\n        }\n\n        return () => {\n            return (\n                <div v-show={ props.show } class=\"free-dialog\" style={`width:${width}px;height:${height}px;`}>\n                    <div class=\"free-dialog-mask\" onClick={ maskUpdateShow }></div>\n                    <div class=\"free-dialog-content\" style={{ width: `${props.width}px` }}>\n                        <div class=\"free-dialog-header\" v-show={ props.header }>\n                            <div class=\"free-dialog-header__title\">{ props.title }</div>\n                            <i class=\"free-icon-close\" onClick={ updateShow }></i>\n                        </div>\n\n                        <div class=\"free-dialog-body\">\n                            { slots.default ? slots.default() : '' }\n                        </div>\n\n                        <div class=\"free-dialog-footer\" v-show={ props.footer }>\n                            <free-button size=\"mini\" onClick={ updateShow }>{ props.cancelText }</free-button>\n                            <free-button type=\"primary\" size=\"mini\" style=\"margin-left: 10px;\" onClick={ ok }>{ props.okText }</free-button>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n})","import { withInstall } from '../utils'\nimport _Dialog from './Dialog'\nimport './index.less'\nexport const FreeDialog = withInstall(_Dialog)\n\nexport default FreeDialog\n\nexport type { Test } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        Dialog: typeof FreeDialog\n    }\n}","\nimport { defineComponent, ref, nextTick, ExtractPropTypes, inject, computed } from \"vue\";\nimport { useExpose } from '../hooks/use-expose';\nimport { makeArrayProp, makeBooleanProp, makeNumberProp, makeNumericProp, formatTime } from '../utils'\nimport { Message } from \"./types\";\n\nconst messagesProps = {\n    data: makeArrayProp<Message>(),\n    contactId: makeNumericProp(''),\n    isEnd: makeBooleanProp(false),\n    loading: makeBooleanProp(true),\n    messageName: makeBooleanProp(false),\n    timeRange: makeNumberProp(1)\n}\n\nexport type MessageProps = ExtractPropTypes<typeof messagesProps>\n\n/* \n    1.\n    2.\n*/\n\nexport default defineComponent({\n    name: 'free-messages',\n    props: messagesProps,\n    setup(props, { emit }) {\n        const root = ref<HTMLElement>()\n        const userInfo: any = inject('userInfo')\n        const loading = ref(true)\n        const onScroll = (event: Event) => {\n            if (props.isEnd) {\n                return\n            }\n            loading.value = true\n            const target = event.target as HTMLInputElement\n            if (target.scrollTop === 0) {\n                console.log('...')\n                emit('load')\n            }\n        }\n\n        function scrollToBottom() {\n            nextTick(() => {\n                if (root.value) {\n                    root.value.scrollTop = root.value.scrollHeight\n                }\n            })\n        }\n\n\n        const loadStatus = computed(() => {\n            if (props.isEnd) return false\n            return props.loading\n        })\n\n        const intervalTime = computed(() => props.timeRange * 1000 * 60)\n\n        useExpose({\n            scrollToBottom\n        })\n        \n        return () => {\n            \n            return (\n                <div ref={ root } class=\"free-message\" onScroll={ onScroll }>\n                    <div class={`free-messages-loading`}>\n                        <i class=\"free-icon-loading\" v-show={loadStatus.value}></i>\n                        <div class=\"free-messages-load_text\" v-show={ props.isEnd }></div>\n                    </div>\n                    {\n                        \n                        props.data.map((message, index) => {\n                            const node = []\n                            const prev = props.data[index - 1]\n                            if (\n                                prev &&\n                                message.time - prev.time > intervalTime.value\n                            ) {\n                                node.push(\n                                    <free-message-event\n                                        {...{\n                                            message: {\n                                                id: '__time__',\n                                                type: 'event',\n                                                content: formatTime(message.time)\n                                            }\n                                        }}\n                                    />\n                                )\n                            }\n\n                            const tagName = `free-message-${message.type}`\n                            let attrs = {\n                                message,\n                                reverse: userInfo.id === message.from.id,\n                                messageName: props.messageName,\n                            }\n                            \n                            node.push(\n                                message.type === 'image' ?\n                                <free-message-image { ...attrs } />\n                                : message.type === 'file' ?\n                                <free-message-file { ...attrs } />\n                                : message.type === 'event' ? \n                                <free-message-event { ...{ message: {\n                                    id: '__time__',\n                                    type: 'event',\n                                    content: formatTime(message.time)\n                                } } } />\n                                : <free-message-text { ...attrs } />\n                            )\n\n                            return node\n                        })\n                    }\n                </div>\n            )\n        }\n    },\n})\n","import { defineComponent } from \"vue\";\nimport { Message } from \"./types\";\n\nexport default defineComponent({\n    name: 'free-message-image',\n    setup(_, { attrs }){\n        const slots = {\n            content: (props: Message) => <img src={ props.content } />\n        }\n        \n        return () => {\n            return (\n                <free-message-template\n                    class=\"free-message-image\"\n                    v-slots={ slots }\n                    { ...attrs }\n                />\n            )\n        }\n    }\n})\n","import { defineComponent } from \"vue\";\nimport { Message } from \"./types\";\nimport { formatByte } from '../utils'\nexport default defineComponent({\n    name: 'free-message-file',\n    setup(_, { attrs }){\n        return () => {\n            return (\n                <free-message-template\n                    class=\"free-message-file\"\n                    v-slots={{\n                        content: (props: Message) => [\n                            <div class=\"free-message-file__content\">\n                                <div class=\"free-message-file__inner\">\n                                    <p class=\"free-message-file__name\">{ props.fileName }</p>\n                                    <p class=\"free-message-file__size\">{ props.fileSize && formatByte(props.fileSize) }</p>\n                                </div>\n                                <i class=\"free-icon-file\"></i>\n                            </div>\n                        ]\n                    }}\n                    { ...attrs }\n                />\n            )\n        }\n    }\n})","import { defineComponent } from \"vue\";\nimport { Message } from \"./types\";\n\nexport default defineComponent({\n    name: 'free-message-text',\n    setup(_, { attrs }){\n        \n        return () => {\n            return (\n                <free-message-template\n                    v-slots={{\n                        content: (props: Message) => <span v-html={props.content} />\n                    }}\n                    { ...attrs }\n                />\n            )\n        }\n    }\n})","import { defineComponent } from \"vue\";\nimport { Message } from \"./types\";\nimport { makeObjectProp } from '../utils'\n\nconst eventProps = {\n    message: makeObjectProp<Message>()\n}\n\nexport default defineComponent({\n    props: eventProps,\n    name: 'free-message-event',\n    setup(props){\n        return () => {\n            return (\n                <div class=\"free-message-content free-message-event\">\n                    <span class=\"free-message-event__content\">\n                        { props.message.content }\n                    </span>\n                </div>\n            )\n        }\n    }\n})\n","import { defineComponent, inject } from \"vue\";\nimport { makeBooleanProp, makeObjectProp } from \"~/utils\";\nimport { Message } from \"./types\";\n\nconst templateProps = {\n    message: makeObjectProp<Message>(),\n    reverse: makeBooleanProp(false),\n    messageName: makeBooleanProp(false),\n}\n\nexport default defineComponent({\n    name: 'free-message-template',\n    props: templateProps,\n    emits: ['message-click'],\n    setup(props, { slots, emit }) {\n        const freeIM: any = inject('freeIM')\n\n        const _emit = (e: Event, key: string) => {\n            freeIM.$emit('message-click', e, key, props.message, freeIM)\n        }\n\n        const handleError = (e: Event) => {\n            _emit(e, 'status')\n        }\n\n        const handleClickContent = (e: Event) => {\n            _emit(e, 'content')\n        }\n\n        const handleClickAvatar = (e: Event) => {\n            _emit(e, 'avatar')\n        }\n\n        return () => {\n            return (\n                <div class={`free-message-content free-message-${ props.reverse ? 'right' : 'left'}`} key={ props.message.id }>\n                    <free-avatar onClick={ handleClickAvatar } avatar={ props.message.from.avatar } size={ 36 } />\n                    <div class=\"free-message-info\">\n                        <div class=\"free-message-username\" v-show={ props.messageName }>{ props.message.from.nickname }</div>\n                        <div class=\"free-message-content__wrap\">\n                            <div class=\"free-message-content__text\" onClick={ handleClickContent }>\n                                { slots['content']?.(props.message) }\n                            </div>\n                            <div style=\"padding-left: 10px;\"></div>\n                            <div class=\"free-message-content__status\">\n                                <i class=\"free-icon-loading\" v-show={ props.message.status === 'uploading' }></i>\n                                <i class=\"free-icon-error\" v-show={ props.message.status === 'error' } onClick={ handleError }></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n})\n","import { withInstall } from '../utils'\nimport _Messages from './Messages'\nimport _MessageImage from './Image'\nimport _MessageFile from './File'\nimport _MessageText from './Text'\nimport _MessageEvent from './Event'\nimport _MessageTemplate from './Template'\nimport './index.less'\n\nexport const FreeMessages = withInstall(_Messages)\nexport const FreeMessageImage = withInstall(_MessageImage)\nexport const FreeMessageFile = withInstall(_MessageFile)\nexport const FreeMessageText = withInstall(_MessageText)\nexport const FreeMessageEvent = withInstall(_MessageEvent)\nexport const FreeMessageTemplate = withInstall(_MessageTemplate)\n\nexport default FreeMessages\n\nexport type { MessageInstance, Message, MessageStatus,\n    MessageType } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        Messages: typeof FreeMessages\n    }\n}\n","import { defineComponent, ref } from \"vue\";\nimport { makeObjectProp, formatByte } from '../utils'\nimport { Contact } from '../index'\n\nconst command = (command: string, val?: any) => {\n    document.execCommand(command, false, val);\n}\n\nconst editorProps = {\n    contact: makeObjectProp<Contact>(),\n}\n\nexport default defineComponent({\n    name: 'free-editor',\n    props: editorProps,\n    emits: ['send', 'upload'],\n    setup(props, { emit }) {\n        const textarea = ref<HTMLElement>()\n        // \n        const value = ref('')\n        const onKeydown = (event: KeyboardEvent) => {\n            if (event.code === 'Enter' && !event.ctrlKey && !event.shiftKey) {\n                event.preventDefault()\n                command(\"insertLineBreak\")\n            }\n            if (event.code === 'Enter') {\n                \n                \n                if (event.ctrlKey) {\n                    handleSend()\n                }\n                \n            }\n            \n        }\n\n        function handleSend() {\n            console.log('')\n            emit('send', textarea.value?.innerHTML)\n            clear()\n        }\n        \n        function clear() {\n            textarea.value!.innerHTML = ''\n        }\n\n        const fileRef = ref<HTMLInputElement>()\n        const fileList = ref<FileList | null>()\n        const changeFile = (event: Event) => {\n            const { files } = event.target as HTMLInputElement\n            if (!files || !files.length) return\n            fileList.value = files\n            console.log(files)\n            show.value = true\n        }\n\n        const resetInput = () => {\n            if (fileRef.value) {\n                fileRef.value.value = '';\n            }\n        }\n\n        const handleClickFile = () => {\n            fileRef.value?.click()\n        }\n\n        const show = ref(false)\n\n        const emojiClick = () => {\n            show.value = true\n        }\n\n        const ok = () => {\n            if (!fileList.value || !fileList.value.length) return\n            Array.from(fileList.value).forEach(file => {\n                emit('upload', file)\n            })\n            if (value.value) {\n                emit('send', value.value)\n            }\n            \n            show.value = false\n            resetInput()\n        }\n\n        const cancel = () => {\n            resetInput()\n        }\n\n        return () => {\n            return (\n                <div class=\"free-editor\">\n                    <free-dialog v-model={[show.value, 'show']} width={260} header={false} onOk={ ok } onCancel={ cancel }>\n                        <div class=\"free-editor-files\">\n                            <div class=\"free-editor-files__title\"></div>\n                            <div class=\"free-editor-files__info\">\n                                <free-avatar avatar={ props.contact.avatar }></free-avatar>\n                                <div class=\"free-editor-files__nickname\">{ props.contact.nickname }</div>\n                            </div>\n                            <div class=\"free-editor-files__content\">\n                                <div class=\"free-editor-files__list\">\n                                    {\n                                        fileList.value ? Array.from(fileList.value).map(file => {\n                                            return (\n                                                <div class=\"free-editor-files__item\">\n                                                    <i class=\"free-icon-files\"></i>\n                                                    <div class=\"free-editor-files__right\">\n                                                        <div class=\"free-editor-filename\">{ file.name }</div>\n                                                        <div class=\"free-editor-filesize\">{ formatByte(file.size) }</div>\n                                                    </div>\n                                                </div>\n                                            )\n                                        }) : []\n                                    }\n                                </div>\n                                <div class=\"free-editor-files__footer\">\n                                    <input v-model={ value.value } class=\"free-editor-files__input\" type=\"text\" placeholder=\"\" />\n                                </div>\n                            </div>\n                        </div>\n                    </free-dialog>\n                    <input type=\"file\" ref={ fileRef } multiple style=\"display: none;\" onChange={ changeFile } />\n                    <div class=\"free-editor-tool\">\n                        <div class=\"free-editor-tool__item\" onClick={ emojiClick }>\n                            <i class=\"free-icon-emoji\"></i>\n                        </div>\n                        <div class=\"free-editor-tool__item\">\n                            <i class=\"free-icon-file\" onClick={ handleClickFile }></i>\n                        </div>\n                    </div>\n                    <div class=\"free-editor-content\">\n                        <div\n                            ref={ textarea }\n                            class=\"free-editor-textarea\"\n                            contenteditable\n                            spellcheck=\"false\"\n                            onKeydown={ onKeydown }\n                        />\n                    </div>\n                    <div class=\"free-editor-footer\">\n                        <div class=\"free-editor-footer__inner\">\n                            <div class=\"free-editor-footer__text\">ctrl + enter </div>\n                            <free-button onClick={ handleSend }></free-button>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n})","import { withInstall } from '../utils'\nimport _Editor from './Editor'\nimport './index.less'\nexport const FreeEditor = withInstall(_Editor)\n\nexport default FreeEditor\n\nexport type { Test } from './types'\n\ndeclare module 'vue' {\n    export interface GlobalComponents {\n        FreeEditor: typeof FreeEditor\n    }\n}","\nimport './reset.less'\nimport './theme.less'\n","import { App } from 'vue'\nimport { FreeIM, FreeInstance, User } from './free'\nimport FreeAvatar from './avatar'\nimport FreeButton from './button'\nimport { FreeContact, Contact } from './contact'\nimport { FreeBadge } from './badge'\nimport { FreeDialog } from './dialog'\n\nimport {\n    FreeMessages,\n    MessageInstance,\n    Message,\n    MessageStatus,\n    MessageType,\n    FreeMessageImage,\n    FreeMessageTemplate,\n    FreeMessageFile,\n    FreeMessageText,\n    FreeMessageEvent\n} from './messages'\n\nimport { FreeEditor } from './editor'\nimport './styles'\n\nconst components = [FreeIM, FreeAvatar, FreeContact, FreeButton, FreeMessages, FreeEditor, FreeBadge, FreeDialog, FreeMessageImage, FreeMessageTemplate, FreeMessageFile,\n    FreeMessageText, FreeMessageEvent]\n\nconst install = (app: App) => {\n    components.map(component => app.component(component.name, component))\n}\n\nexport type PullMessageNext = (message: Message[], end?: boolean) => void\nexport type SendNext = (message: Message, contact: Contact, status: MessageStatus) => void\n\nexport {\n    FreeIM,\n    FreeAvatar,\n    FreeButton,\n    FreeContact,\n    FreeMessages,\n    FreeEditor,\n    FreeDialog,\n    FreeMessageImage,\n    FreeMessageTemplate,\n    FreeMessageFile,\n    FreeMessageText,\n    FreeMessageEvent\n}\n\nexport type {\n    FreeInstance,\n    MessageInstance,\n    Contact,\n    Message,\n    User,\n    MessageStatus,\n    MessageType\n}\n\nexport default {\n    install\n}\n","import './setPublicPath'\nimport mod from '~entry'\nexport default mod\nexport * from '~entry'\n"],"sourceRoot":""}